{"version":3,"sources":["main.js"],"names":["CONFIG","PLAYER_SPEED","FIRE_COOLDOWN","BULLET_SPEED","SHAPE_MIN_SPEED","SHAPE_MAX_SPEED","SHAPE_SIZE","canvas","document","getElementById","resizeCanvas","innerWidth","width","window","addEventListener","GAME_STATE","HOME","PLAYING","currentState","startBtn","scoreboard","highScore","Number","localStorage","getItem","onclick","homeUI","style","display","startGame","lastTime","gameLoop","timestamp","ctx","clearRect","Math","update","height","delta","render","requestAnimationFrame","y","player","fireCooldown","x","resetPlayer","moveLeft","moveRight","bullets","spaceHeld","shoot","push","shapes","spawnShape","size","speed","random","score","spawnTimer","code","setItem","textContent","spawnInterval","max","forEach","s","checkCollisions","SPAWN_BASE","b","rectHit","length","i","a","endGame","j","fillStyle","splice","textBaseline","fillText","font","textAlign","fillRect","concat","PAUSED","e"],"mappings":"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","file":"main.min.js","sourcesContent":["// ================= CONFIG =================\r\nconst CONFIG = {\r\n    PLAYER_SPEED: 6,\r\n    FIRE_COOLDOWN: 200,\r\n    BULLET_SPEED: 8,\r\n    SHAPE_MIN_SPEED: 2,\r\n    SHAPE_MAX_SPEED: 4,\r\n    SHAPE_SIZE: 30,\r\n    SPAWN_BASE: 800,\r\n    SPAWN_MIN: 300\r\n};\r\n\r\n// ================= CANVAS =================\r\nconst canvas = document.getElementById(\"gameCanvas\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nfunction resizeCanvas() {\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n}\r\nwindow.addEventListener(\"resize\", resizeCanvas);\r\nresizeCanvas();\r\n\r\n// ================= GAME STATE =================\r\nconst GAME_STATE = {\r\n    HOME: \"HOME\",\r\n    PLAYING: \"PLAYING\",\r\n    PAUSED: \"PAUSED\"\r\n};\r\n\r\nlet currentState = GAME_STATE.HOME;\r\n\r\n// ================= UI =================\r\nconst homeUI = document.getElementById(\"homeUI\");\r\nconst startBtn = document.getElementById(\"startBtn\");\r\nconst scoreboard = document.getElementById(\"scoreboard\");\r\n\r\nlet highScore = Number(localStorage.getItem(\"highScore\")) || 0;\r\nscoreboard.textContent = `HIGH SCORE: ${highScore}`;\r\n\r\nstartBtn.onclick = () => {\r\n    currentState = GAME_STATE.PLAYING;\r\n    homeUI.style.display = \"none\";\r\n    startGame();\r\n};\r\n\r\n// ================= GAME LOOP =================\r\nlet lastTime = 0;\r\n\r\nfunction gameLoop(timestamp) {\r\n    const delta = Math.min(timestamp - lastTime, 50);\r\n    lastTime = timestamp;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    if (currentState === GAME_STATE.PLAYING) {\r\n        update(delta);\r\n    }\r\n\r\n    render();\r\n    requestAnimationFrame(gameLoop);\r\n}\r\n\r\nrequestAnimationFrame(gameLoop);\r\n\r\n// ================= PLAYER =================\r\nconst player = {\r\n    width: 40,\r\n    height: 20,\r\n    x: 0,\r\n    y: 0,\r\n    fireCooldown: 0\r\n};\r\n\r\nfunction resetPlayer() {\r\n    player.x = canvas.width / 2 - player.width / 2;\r\n    player.y = canvas.height - player.height - 20;\r\n}\r\n\r\nlet moveLeft = false;\r\nlet moveRight = false;\r\nlet spaceHeld = false;\r\n\r\n// ================= BULLETS =================\r\nconst bullets = [];\r\n\r\nfunction shoot() {\r\n    if (player.fireCooldown > 0) return;\r\n\r\n    bullets.push({\r\n        x: player.x + player.width / 2 - 2,\r\n        y: player.y,\r\n        width: 4,\r\n        height: 10,\r\n        speed: CONFIG.BULLET_SPEED\r\n    });\r\n\r\n    player.fireCooldown = CONFIG.FIRE_COOLDOWN;\r\n}\r\n\r\n// ================= ENEMIES =================\r\nconst shapes = [];\r\nlet spawnTimer = 0;\r\n\r\nfunction spawnShape() {\r\n    shapes.push({\r\n        x: Math.random() * (canvas.width - CONFIG.SHAPE_SIZE),\r\n        y: -CONFIG.SHAPE_SIZE,\r\n        size: CONFIG.SHAPE_SIZE,\r\n        speed:\r\n            CONFIG.SHAPE_MIN_SPEED +\r\n            Math.random() * (CONFIG.SHAPE_MAX_SPEED - CONFIG.SHAPE_MIN_SPEED)\r\n    });\r\n}\r\n\r\n// ================= GAME CONTROL =================\r\nlet score = 0;\r\n\r\nfunction startGame() {\r\n    score = 0;\r\n    spawnTimer = 0;\r\n    bullets.length = 0;\r\n    shapes.length = 0;\r\n    moveLeft = false;\r\n    moveRight = false;\r\n    spaceHeld = false;\r\n    resetPlayer();\r\n}\r\n\r\nfunction endGame() {\r\n    currentState = GAME_STATE.HOME;\r\n    homeUI.style.display = \"flex\";\r\n\r\n    if (score > highScore) {\r\n        highScore = score;\r\n        localStorage.setItem(\"highScore\", highScore);\r\n    }\r\n\r\n    scoreboard.textContent = `HIGH SCORE: ${highScore}`;\r\n}\r\n\r\n// ================= INPUT =================\r\nwindow.addEventListener(\"keydown\", (e) => {\r\n    if (e.code === \"KeyP\") {\r\n        if (currentState === GAME_STATE.PLAYING) {\r\n            currentState = GAME_STATE.PAUSED;\r\n            moveLeft = false;\r\n            moveRight = false;\r\n        } else if (currentState === GAME_STATE.PAUSED) {\r\n            currentState = GAME_STATE.PLAYING;\r\n        }\r\n        return;\r\n    }\r\n\r\n    if (currentState !== GAME_STATE.PLAYING) return;\r\n\r\n    if (e.code === \"ArrowLeft\") moveLeft = true;\r\n    if (e.code === \"ArrowRight\") moveRight = true;\r\n\r\n    if (e.code === \"Space\" && !spaceHeld) {\r\n        shoot();\r\n        spaceHeld = true;\r\n    }\r\n});\r\n\r\nwindow.addEventListener(\"keyup\", (e) => {\r\n    if (e.code === \"ArrowLeft\") moveLeft = false;\r\n    if (e.code === \"ArrowRight\") moveRight = false;\r\n    if (e.code === \"Space\") spaceHeld = false;\r\n});\r\n\r\n// ================= UPDATE =================\r\nfunction update(delta) {\r\n    player.fireCooldown -= delta;\r\n    if (player.fireCooldown < 0) player.fireCooldown = 0;\r\n\r\n    if (moveLeft) player.x -= CONFIG.PLAYER_SPEED;\r\n    if (moveRight) player.x += CONFIG.PLAYER_SPEED;\r\n\r\n    if (player.x < 0) player.x = 0;\r\n    if (player.x + player.width > canvas.width) {\r\n        player.x = canvas.width - player.width;\r\n    }\r\n\r\n    spawnTimer += delta;\r\n    const spawnInterval = Math.max(\r\n        CONFIG.SPAWN_MIN,\r\n        CONFIG.SPAWN_BASE - score * 10\r\n    );\r\n\r\n    if (spawnTimer >= spawnInterval) {\r\n        spawnShape();\r\n        spawnTimer -= spawnInterval;\r\n    }\r\n\r\n    bullets.forEach(b => b.y -= b.speed * (delta / 16.67));\r\n    shapes.forEach(s => s.y += s.speed * (delta / 16.67));\r\n\r\n    checkCollisions();\r\n\r\n    for (let i = bullets.length - 1; i >= 0; i--) {\r\n        if (bullets[i].y + bullets[i].height < 0) {\r\n            bullets.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n\r\n// ================= COLLISION =================\r\nfunction rectHit(a, b) {\r\n    return (\r\n        a.x < b.x + b.size &&\r\n        a.x + a.width > b.x &&\r\n        a.y < b.y + b.size &&\r\n        a.y + a.height > b.y\r\n    );\r\n}\r\n\r\nfunction checkCollisions() {\r\n    for (let i = shapes.length - 1; i >= 0; i--) {\r\n        for (let j = bullets.length - 1; j >= 0; j--) {\r\n            if (rectHit(bullets[j], shapes[i])) {\r\n                shapes.splice(i, 1);\r\n                bullets.splice(j, 1);\r\n                score++;\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (shapes[i].y + shapes[i].size >= canvas.height) {\r\n            endGame();\r\n            return;\r\n        }\r\n    }\r\n}\r\n\r\n// ================= RENDER =================\r\nfunction render() {\r\n    ctx.fillStyle = \"#00ff00\";\r\n    ctx.font = \"16px monospace\";\r\n    ctx.textAlign = \"left\";\r\n    ctx.textBaseline = \"top\";\r\n\r\n    ctx.fillRect(player.x, player.y, player.width, player.height);\r\n\r\n    bullets.forEach(b =>\r\n        ctx.fillRect(b.x, b.y, b.width, b.height)\r\n    );\r\n\r\n    shapes.forEach(s =>\r\n        ctx.fillRect(s.x, s.y, s.size, s.size)\r\n    );\r\n\r\n    ctx.fillText(`SCORE: ${score}`, 20, 30);\r\n    ctx.fillText(`STATE: ${currentState}`, canvas.width - 140, 10);\r\n\r\n    if (currentState === GAME_STATE.PAUSED) {\r\n        ctx.textAlign = \"center\";\r\n        ctx.textBaseline = \"middle\";\r\n        ctx.fillText(\"PAUSED\", canvas.width / 2, canvas.height / 2);\r\n    }\r\n\r\n    if (currentState === GAME_STATE.HOME && score > 0) {\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(\r\n            \"GAME OVER\",\r\n            canvas.width / 2,\r\n            canvas.height / 2 - 20\r\n        );\r\n    }\r\n}\r\n"]}